webpackJsonp([1],{"6LvZ":function(t,e){},GTtC:function(t,e){},GsQj:function(t,e){},HDgA:function(t,e){},NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("7+uW"),a=o("/ocq"),s=o("Xxa5"),i=o.n(s),r=o("exGp"),c=o.n(r),u=(o("wiGe"),o("DMPO")),l=o("aozt"),p=o.n(l);p.a.defaults.baseURL="http://localhost:3000";var v=function(t){return p.a.delete("/book?id="+t)},d={name:"carrousel",components:{swiper:u.swiper,swiperSlide:u.swiperSlide},data:function(){return{swiperOption:{autoplay:{delay:5e3},pagination:{el:".swiper-pagination"}},slides:[]}},computed:{swiper:function(){return this.$refs.mySwiper.swiper}},mounted:function(){this.swiper.slideTo(0,1e3,!1)},created:function(){var t=this;return c()(i.a.mark(function e(){var o,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/slides");case 2:o=e.sent,n=o.data,t.slides=n;case 5:case"end":return e.stop()}},e,t)}))()}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("swiper",{ref:"mySwiper",attrs:{options:this.swiperOption}},[this._l(this.slides,function(t,o){return e("swiper-slide",{key:o},[e("img",{attrs:{src:t,width:"100%",height:"auto"}})])}),this._v(" "),e("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)},staticRenderFns:[]},b={components:{swiper:o("VU/8")(d,f,!1,null,null,null).exports},props:{back:{type:Boolean,default:!0}}},m={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"header"},[o("div",{staticClass:"top"},[t._t("page",[t._v("标题")]),t._v(" "),t.back?o("i",{staticClass:"iconfont icon-fanhui1",on:{click:function(e){t.$router.back()}}}):t._e()],2),t._v(" "),o("div",{staticClass:"slide"},[o("swiper")],1)])},staticRenderFns:[]};var k=o("VU/8")(b,m,!1,function(t){o("beS8")},"data-v-b3cd53ca",null).exports,h={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading"},[e("span"),this._v(" "),e("span"),this._v(" "),e("span"),this._v(" "),e("span"),this._v(" "),e("span")])}]};var _={data:function(){return{hot_book:[],loading:!0}},components:{top:k,loading:o("VU/8")(null,h,!1,function(t){o("crDc")},"data-v-fe164620",null).exports},methods:{Gethotbook:function(){var t=this;return c()(i.a.mark(function e(){var o,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/hot");case 2:o=e.sent,n=o.data,t.hot_book=n,t.loading=!1;case 6:case"end":return e.stop()}},e,t)}))()}},created:function(){this.Gethotbook()}},g={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[o("top",{attrs:{back:!1}},[o("span",{attrs:{slot:"page"},slot:"page"},[t._v("首页")])]),t._v(" "),t.loading?o("loading",[t._v("加载中……")]):t._e(),t._v(" "),t.loading?t._e():o("div",{staticClass:"container"},[o("h3",[t._v("热门图书")]),t._v(" "),o("ul",{staticClass:"hot-book"},t._l(t.hot_book,function(e){return o("li",[o("img",{attrs:{src:e.bookCover,width:"100%",height:"auto"}}),t._v(" "),o("p",[t._v(t._s(e.bookName))])])}))])],1)},staticRenderFns:[]};var w=o("VU/8")(_,g,!1,function(t){o("GsQj")},"data-v-7e5441a5",null).exports,x=o("Gu7T"),C=o.n(x),$={data:function(){return{books:[],offset:0,hasMore:!0,isLoading:!0}},methods:{Getbooks:function(){var t=this;return c()(i.a.mark(function e(){var o,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.hasMore){e.next=9;break}return e.next=3,a=t.offset,p.a.get("/page?offset="+a);case 3:o=e.sent,n=o.data,t.books=[].concat(C()(t.books),C()(n.books)),t.hasMore=n.hasMore,t.isLoading=!1,t.offset=t.books.length;case 9:case"end":return e.stop()}var a},e,t)}))()},Delbook:function(t){var e=this;return c()(i.a.mark(function o(){return i.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,v(t);case 2:e.books=e.books.filter(function(e){return e.bookId!==t});case 3:case"end":return o.stop()}},o,e)}))()},more:function(){this.isLoading||(this.isLoading=!0,this.Getbooks())}},created:function(){this.Getbooks();var t=this;window.onscroll=function(){clearTimeout(this.timer),this.timer=setTimeout(function(){document.documentElement.offsetHeight-document.documentElement.clientHeight-document.documentElement.scrollTop<=0&&t.more()},500)}},components:{top:k}},P={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"lists"},[o("top",[o("span",{attrs:{slot:"page"},slot:"page"},[t._v("列表")])]),t._v(" "),o("div",{staticClass:"container"},[o("h3",[t._v("图书列表")]),t._v(" "),o("ul",{staticClass:"books"},[t._l(t.books,function(e,n){return o("router-link",{key:n,attrs:{tag:"li",to:{name:"detail",params:{bid:e.bookId}}}},[o("img",{attrs:{src:e.bookCover}}),t._v(" "),o("h4",[t._v(t._s(e.bookName))]),t._v(" "),o("p",[t._v(t._s(e.bookInfo))]),t._v(" "),o("p",{staticClass:"price"},[t._v(t._s("￥"+e.bookPrice))]),t._v(" "),o("button",{staticClass:"btn",on:{click:function(o){o.stopPropagation(),o.preventDefault(),t.Delbook(e.bookId)}}},[t._v("删除图书")])])}),t._v(" "),o("button",{staticClass:"btn btn-primary",on:{click:t.more}},[t._v("加载更多")])],2)])],1)},staticRenderFns:[]};var y=o("VU/8")($,P,!1,function(t){o("ub6K")},"data-v-681a7726",null).exports,N={data:function(){return{book:{}}},methods:{Addbook:function(){var t=this;return c()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o=t.book,p.a.post("/book",o);case 2:t.$router.push("/lists");case 3:case"end":return e.stop()}var o},e,t)}))()}},components:{top:k}},G={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"add"},[o("top",[o("span",{attrs:{slot:"page"},slot:"page"},[t._v("添加")])]),t._v(" "),o("div",{staticClass:"content"},[o("ul",[o("li",[o("label",[t._v("图书图片："),o("input",{directives:[{name:"model",rawName:"v-model",value:t.book.bookCover,expression:"book.bookCover"}],attrs:{type:"text"},domProps:{value:t.book.bookCover},on:{input:function(e){e.target.composing||t.$set(t.book,"bookCover",e.target.value)}}})])]),t._v(" "),o("li",[o("label",[t._v("图书名称："),o("input",{directives:[{name:"model",rawName:"v-model",value:t.book.bookName,expression:"book.bookName"}],attrs:{type:"text"},domProps:{value:t.book.bookName},on:{input:function(e){e.target.composing||t.$set(t.book,"bookName",e.target.value)}}})])]),t._v(" "),o("li",[o("label",[t._v("图书描述："),o("input",{directives:[{name:"model",rawName:"v-model",value:t.book.bookInfo,expression:"book.bookInfo"}],attrs:{type:"text"},domProps:{value:t.book.bookInfo},on:{input:function(e){e.target.composing||t.$set(t.book,"bookInfo",e.target.value)}}})])]),t._v(" "),o("li",[o("label",[t._v("图书价格："),o("input",{directives:[{name:"model",rawName:"v-model",value:t.book.bookPrice,expression:"book.bookPrice"}],attrs:{type:"text"},domProps:{value:t.book.bookPrice},on:{input:function(e){e.target.composing||t.$set(t.book,"bookPrice",e.target.value)}}})])]),t._v(" "),o("li",[o("button",{staticClass:"btn btn-primary",on:{click:function(e){t.Addbook()}}},[t._v("确认添加")])])])])],1)},staticRenderFns:[]};var U=o("VU/8")(N,G,!1,function(t){o("zHGd")},"data-v-42e033aa",null).exports,E={components:{top:k}},I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"collection"},[e("top",[e("span",{attrs:{slot:"page"},slot:"page"},[this._v("收藏")])]),this._v(" "),e("div",{staticStyle:{height:"800px"}},[this._v("没有内容淡入动画有问题，暂时添加高度")])],1)},staticRenderFns:[]};var R=o("VU/8")(E,I,!1,function(t){o("sw2P")},"data-v-c535ea66",null).exports,F=o("fZjL"),H=o.n(F),M={components:{top:k},data:function(){return{book:{}}},computed:{bid:function(){return this.$route.params.bid}},watch:{$route:function(){this.Getbook()}},methods:{Getbook:function(){var t=this;return c()(i.a.mark(function e(){var o,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=t.bid,p.a.get("/book?id="+a);case 2:o=e.sent,n=o.data,t.book=n,H()(t.book).length>0||t.$router.push("/lists");case 6:case"end":return e.stop()}var a},e,t)}))()},Updata:function(){var t=this;return c()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o=t.bid,n=t.book,p.a.put("/book?id="+o,n);case 2:t.$router.push("/lists");case 3:case"end":return e.stop()}var o,n},e,t)}))()}},created:function(){this.Getbook()}},V={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"detail"},[o("top",[o("span",{attrs:{slot:"page"},slot:"page"},[t._v("详情页")])]),t._v(" "),o("div",{staticClass:"content"},[o("ul",[o("li",[o("label",[t._v("图书名称："),o("input",{directives:[{name:"model",rawName:"v-model",value:t.book.bookName,expression:"book.bookName"}],attrs:{type:"text"},domProps:{value:t.book.bookName},on:{input:function(e){e.target.composing||t.$set(t.book,"bookName",e.target.value)}}})])]),t._v(" "),o("li",[o("label",[t._v("图书描述："),o("input",{directives:[{name:"model",rawName:"v-model",value:t.book.bookInfo,expression:"book.bookInfo"}],attrs:{type:"text"},domProps:{value:t.book.bookInfo},on:{input:function(e){e.target.composing||t.$set(t.book,"bookInfo",e.target.value)}}})])]),t._v(" "),o("li",[o("label",[t._v("图书价格："),o("input",{directives:[{name:"model",rawName:"v-model",value:t.book.bookPrice,expression:"book.bookPrice"}],attrs:{type:"text"},domProps:{value:t.book.bookPrice},on:{input:function(e){e.target.composing||t.$set(t.book,"bookPrice",e.target.value)}}})])]),t._v(" "),o("li",[o("button",{staticClass:"btn btn-primary",on:{click:function(e){t.Updata()}}},[t._v("确认修改")])])])])],1)},staticRenderFns:[]};var A=o("VU/8")(M,V,!1,function(t){o("HDgA")},"data-v-07403990",null).exports;n.a.use(a.a);var D=new a.a({routes:[{path:"/",redirect:"/home"},{path:"/home",component:w,meta:{keepAlive:!0}},{path:"/lists",component:y},{path:"/add",component:U},{path:"/collection",component:R},{path:"/detail/:bid",component:A,name:"detail"}]}),L={components:{footMenu:o("kMUH").default}},S={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"main"}},[e("transition",{attrs:{name:"fadeIn"}},[e("keep-alive",[this.$route.meta.keepAlive?e("router-view"):this._e()],1)],1),this._v(" "),e("transition",{attrs:{name:"fadeIn"}},[this.$route.meta.keepAlive?this._e():e("router-view")],1),this._v(" "),e("footMenu")],1)},staticRenderFns:[]};var T=o("VU/8")(L,S,!1,function(t){o("ZNwu")},null,null).exports;o("GTtC");new n.a({el:"#app",router:D,template:"<App/>",components:{App:T}})},P475:function(t,e,o){"use strict";var n={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"menu"},[o("router-link",{attrs:{to:"/home"}},[o("i",{staticClass:"iconfont icon-shouye"}),t._v(" "),o("span",[t._v("首页")])]),t._v(" "),o("router-link",{attrs:{to:"/lists"}},[o("i",{staticClass:"iconfont icon-list-1-copy"}),t._v(" "),o("span",[t._v("列表")])]),t._v(" "),o("router-link",{attrs:{to:"/collection"}},[o("i",{staticClass:"iconfont icon-shoucang"}),t._v(" "),o("span",[t._v("收藏")])]),t._v(" "),o("router-link",{attrs:{to:"/add"}},[o("i",{staticClass:"iconfont icon-tianjia-xue"}),t._v(" "),o("span",[t._v("添加")])])],1)},staticRenderFns:[]};e.a=n},YWcm:function(t,e){},ZNwu:function(t,e){},beS8:function(t,e){},crDc:function(t,e){},kMUH:function(t,e,o){"use strict";var n=o("6LvZ"),a=o.n(n),s=o("P475");var i=function(t){o("YWcm")},r=o("VU/8")(a.a,s.a,!1,i,"data-v-44783d0a",null);e.default=r.exports},sw2P:function(t,e){},ub6K:function(t,e){},wiGe:function(t,e){},zHGd:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.fb7380f9b40e75e89004.js.map